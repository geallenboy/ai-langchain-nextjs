# LangChain + Next.js å­¦ä¹ é¡¹ç›®

åŸºäº LangChain 1.0 å’Œ Next.js 16 çš„æ¨¡å—åŒ– AI åº”ç”¨å­¦ä¹ å¹³å°ï¼ŒåŒ…å«å®Œæ•´çš„å­¦ä¹ æŒ‡å—å’Œå®æˆ˜æ¡ˆä¾‹ã€‚

## ğŸ¯ é¡¹ç›®ç‰¹è‰²

- ğŸ“š **æ¨¡å—åŒ–è®¾è®¡**ï¼šä»£ç å’Œæ–‡æ¡£æŒ‰æ¨¡å—æ¸…æ™°ç»„ç»‡
- ğŸ”§ **å®Œæ•´ç¤ºä¾‹**ï¼šä»åŸºç¡€åˆ°è¿›é˜¶çš„ 8 ä¸ªå­¦ä¹ ç¤ºä¾‹
- âœˆï¸ **å®æˆ˜æ¡ˆä¾‹**ï¼šAI æ—…è¡Œè§„åˆ’åŠ©æ‰‹å®Œæ•´å®ç°
- ğŸ’» **ç°ä»£æŠ€æœ¯æ ˆ**ï¼šNext.js 16 + LangChain 1.0 + TypeScript 5
- ğŸ“– **è¯¦ç»†æ–‡æ¡£**ï¼šæ¯ä¸ªæ¨¡å—éƒ½æœ‰å®Œæ•´çš„ä½¿ç”¨æŒ‡å—

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
ai-langchain-nextjs/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ modules/             # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ learning/        # å­¦ä¹ æŒ‡å—æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ examples/    # LangChain ç¤ºä¾‹ä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ config.ts    # æ¨¡å—é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ README.md    # æ¨¡å—æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ travel/          # AIæ—…è¡Œæ¨¡å—
â”‚   â”‚       â”œâ”€â”€ agents/      # Agent å®šä¹‰
â”‚   â”‚       â”œâ”€â”€ tools/       # å·¥å…·é›†åˆ
â”‚   â”‚       â”œâ”€â”€ config.ts    # æ¨¡å—é…ç½®
â”‚   â”‚       â””â”€â”€ README.md    # æ¨¡å—æ–‡æ¡£
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ learning/        # å­¦ä¹ ä¸­å¿ƒé¡µé¢
â”‚   â”‚   â”œâ”€â”€ travel/          # æ—…è¡ŒåŠ©æ‰‹é¡µé¢
â”‚   â”‚   â””â”€â”€ api/             # API è·¯ç”±
â”‚   â”‚       â”œâ”€â”€ learning/    # å­¦ä¹ API
â”‚   â”‚       â””â”€â”€ travel/      # æ—…è¡ŒAPI
â”‚   â””â”€â”€ shared/              # å…±äº«ä»£ç 
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ å­¦ä¹ æŒ‡å—/             # å­¦ä¹ æ¨¡å—æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ README.md        # æ–‡æ¡£å¯¼èˆª
â”‚   â”‚   â”œâ”€â”€ SETUP.md         # è®¾ç½®æŒ‡å—
â”‚   â”‚   â””â”€â”€ DEMO_GUIDE.md    # ç¤ºä¾‹è¯´æ˜
â”‚   â””â”€â”€ AIæ—…è¡Œ/               # æ—…è¡Œæ¨¡å—æ–‡æ¡£
â”‚       â”œâ”€â”€ README.md        # æ–‡æ¡£å¯¼èˆª
â”‚       â”œâ”€â”€ AIæ—…è¡Œ.md         # æ ¸å¿ƒæŒ‡å—
â”‚       â”œâ”€â”€ TRAVEL_GUIDE.md  # ä½¿ç”¨æŒ‡å—
â”‚       â””â”€â”€ API_KEYS.md      # APIé…ç½®
â””â”€â”€ .env.example             # ç¯å¢ƒå˜é‡ç¤ºä¾‹
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` æ–‡ä»¶ä¸º `.env.local`ï¼Œå¹¶å¡«å…¥æ‚¨çš„ OpenAI API å¯†é’¥ï¼š

```bash
cp .env.example .env.local
```

åœ¨ `.env.local` ä¸­è®¾ç½®ï¼š

```env
OPENAI_API_KEY=your_openai_api_key_here
```

### 3. è¿è¡Œå¼€å‘æœåŠ¡å™¨

```bash
pnpm dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) å¼€å§‹å­¦ä¹ ä¹‹æ—…ï¼

## ğŸ“š å­¦ä¹ å†…å®¹

### 1. åŸºç¡€èŠå¤©ç¤ºä¾‹
- **åŸºç¡€èŠå¤©**: äº†è§£å¦‚ä½•åˆå§‹åŒ–æ¨¡å‹å¹¶å‘é€æ¶ˆæ¯
- **å¸¦å†å²èŠå¤©**: å­¦ä¹ ç»´æŠ¤å¯¹è¯ä¸Šä¸‹æ–‡
- **æµå¼èŠå¤©**: ç†è§£å®æ—¶å“åº”çš„å®ç°

### 2. å·¥å…·ç³»ç»Ÿ
- **å•ä¸€å·¥å…·**: åˆ›å»ºå’Œä½¿ç”¨å•ä¸ªå·¥å…·
- **å¤šå·¥å…·ç»„åˆ**: AI æ™ºèƒ½é€‰æ‹©åˆé€‚å·¥å…·
- **å·¥å…·é“¾**: å·¥å…·é—´çš„åä½œå’Œæ•°æ®ä¼ é€’
- **é”™è¯¯å¤„ç†**: å¤„ç†å·¥å…·æ‰§è¡Œå¼‚å¸¸

### 3. æ™ºèƒ½ä»£ç†
- **ä¸ªäººåŠ©ç†**: ä¸ªæ€§åŒ–æœåŠ¡å’Œä¸»åŠ¨å…³æ€€
- **ä¸“ä¸šé¡¾é—®**: ä¸“ä¸šçŸ¥è¯†å’Œè§£å†³æ–¹æ¡ˆæä¾›
- **å¤šè½®å¯¹è¯**: ä¸Šä¸‹æ–‡è®°å¿†å’Œè¿è´¯äº¤æµ
- **ä»»åŠ¡å¯¼å‘**: ç›®æ ‡æ˜ç¡®çš„ä»»åŠ¡æ‰§è¡Œ

### 4. è®°å¿†åŠŸèƒ½
- **åŸºç¡€è®°å¿†**: ä¿å­˜å’Œæ£€ç´¢å¯¹è¯ä¿¡æ¯
- **é•¿æœŸè®°å¿†**: è·¨ä¼šè¯çš„æŒä¹…åŒ–å­˜å‚¨
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**: åŸºäºå†å²ä¿¡æ¯çš„æ™ºèƒ½å“åº”
- **è®°å¿†ç®¡ç†**: æ¸…ç†å’Œä¼˜åŒ–è®°å¿†æ•°æ®

### 5. å®Œæ•´åº”ç”¨æ¡ˆä¾‹
- **æ™ºèƒ½å­¦ä¹ åŠ©æ‰‹**: ä¸ªæ€§åŒ–å­¦ä¹ æŒ‡å¯¼ç³»ç»Ÿ
- **å­¦ä¹ ä¼šè¯ç®¡ç†**: å®Œæ•´å­¦ä¹ è¿‡ç¨‹å¼•å¯¼
- **æµ‹éªŒå’Œè¯„ä¼°**: æ™ºèƒ½ç”Ÿæˆæµ‹é¢˜å’Œè¯„ä¼°
- **å®Œæ•´å­¦ä¹ æµç¨‹**: ç«¯åˆ°ç«¯å­¦ä¹ ä½“éªŒ

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ learn/              # å­¦ä¹ é¡µé¢
â”‚   â””â”€â”€ api/examples/       # API è·¯ç”±
â”œâ”€â”€ lib/langchain/
â”‚   â”œâ”€â”€ examples/
â”‚   â”‚   â”œâ”€â”€ basic-chat.ts   # åŸºç¡€èŠå¤©ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ tools-examples.ts   # å·¥å…·ä½¿ç”¨ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ agent-examples.ts   # æ™ºèƒ½ä»£ç†ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ memory-examples.ts  # è®°å¿†åŠŸèƒ½ç¤ºä¾‹
â”‚   â”‚   â””â”€â”€ complete-app.ts     # å®Œæ•´åº”ç”¨æ¡ˆä¾‹
â”‚   â””â”€â”€ models.ts           # æ¨¡å‹é…ç½®
```

## ğŸ¯ å­¦ä¹ è·¯å¾„å»ºè®®

1. **ä»åŸºç¡€å¼€å§‹**: å…ˆè¿è¡ŒåŸºç¡€èŠå¤©ç¤ºä¾‹ï¼Œç†è§£ LangChain çš„åŸºæœ¬æ¦‚å¿µ
2. **å­¦ä¹ å·¥å…·ç³»ç»Ÿ**: äº†è§£å¦‚ä½•æ‰©å±• AI çš„èƒ½åŠ›
3. **æ¢ç´¢æ™ºèƒ½ä»£ç†**: å­¦ä¼šåˆ›å»ºæœ‰ä¸ªæ€§çš„ AI åŠ©æ‰‹
4. **æŒæ¡è®°å¿†åŠŸèƒ½**: å®ç°æ›´æ™ºèƒ½çš„å¯¹è¯ä½“éªŒ
5. **æ„å»ºå®Œæ•´åº”ç”¨**: å°†æ‰€å­¦çŸ¥è¯†æ•´åˆåˆ°å®é™…é¡¹ç›®ä¸­

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Next.js 15.5.2**: ä½¿ç”¨ App Router å’Œ Turbopack
- **LangChain**: AI åº”ç”¨å¼€å‘æ¡†æ¶
- **OpenAI GPT-4**: è¯­è¨€æ¨¡å‹
- **TypeScript**: ç±»å‹å®‰å…¨
- **Tailwind CSS 4**: ç°ä»£æ ·å¼è®¾è®¡
- **Zod**: æ¨¡å¼éªŒè¯

## ğŸ“– æ ¸å¿ƒæ¦‚å¿µ

### æ¨¡å‹åˆå§‹åŒ–
```typescript
const model = await initChatModel("openai:gpt-4", {
    temperature: 0.7
});
```

### å·¥å…·å®šä¹‰
```typescript
const calculator = tool(
    ({ operation, a, b }) => {
        // å·¥å…·é€»è¾‘
    },
    {
        name: "calculator",
        description: "æ‰§è¡ŒåŸºæœ¬æ•°å­¦è¿ç®—",
        schema: z.object({
            operation: z.enum(["add", "subtract", "multiply", "divide"]),
            a: z.number(),
            b: z.number(),
        }),
    }
);
```

### ä»£ç†åˆ›å»º
```typescript
const agent = createAgent({
    model,
    tools: [calculator],
    systemPrompt: "ä½ æ˜¯ä¸€ä¸ªæ•°å­¦åŠ©æ‰‹..."
});
```

## ğŸ“ å­¦ä¹ å»ºè®®

1. **åŠ¨æ‰‹å®è·µ**: æ¯ä¸ªç¤ºä¾‹éƒ½å¯ä»¥ç›´æ¥åœ¨ç½‘é¡µä¸Šè¿è¡Œæµ‹è¯•
2. **é˜…è¯»ä»£ç **: æŸ¥çœ‹ `src/lib/langchain/examples/` ä¸­çš„æºç ç†è§£å®ç°
3. **ä¿®æ”¹å°è¯•**: è¯•ç€ä¿®æ”¹ç¤ºä¾‹ä»£ç ï¼Œè§‚å¯Ÿä¸åŒçš„æ•ˆæœ
4. **æ„å»ºé¡¹ç›®**: åŸºäºå­¦åˆ°çš„çŸ¥è¯†åˆ›å»ºè‡ªå·±çš„ LangChain åº”ç”¨

## ğŸ”§ å¼€å‘å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼
pnpm dev

# æ„å»ºé¡¹ç›®
pnpm build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start
```

## ğŸ“ ç¯å¢ƒè¦æ±‚

- Node.js 18+
- pnpm æˆ– npm
- OpenAI API å¯†é’¥

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ issue å’Œ PR æ¥æ”¹è¿›è¿™ä¸ªå­¦ä¹ é¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License

